\chapter{集合论回顾}

\epigraph{任何人都不能把我们从Cantor创造的乐园里赶出去. }{Hilbert}

\section{公理化集合论}

我们选择采用ZFC公理系统, 即承认以下九条关于集合论的公理(详细解释可在任何一本集合论的书上看到, 这里略去): 

\vspace{0.5em}
\noindent
1. \textbf{外延公理}: 两个集合$A$和$B$相等当且仅当它们的元素相同. 

外延公理告诉我们, 描述同一群对象的任意集合都是相等的. 因此, 从等价类的角度来看, 它是唯一确定的. 

\vspace{0.5em}
\noindent
2. \textbf{配对公理}: 对于任意集合$X, Y$, 存在一个集合$Z$使得$X$和$Y$是它仅有的元素. 特别地, 若$X=Y$, 则将$Z$视作只有唯一元素. 

由配对公理, 存在集合$\{ X, Y \}$和$\{ Y, X \}$, 而由外延公理这两个集合是相等的, 于是集合是无序的\footnote{如果想要描述有序的集合(列表), 例如$(X,Y)$, 可采用$\{ \{ X,Y \}, \{X\} \}$的形式, 之后通过嵌套可构造出更长的列表. } . 另一方面, 容易说明集合$\{ X, X \}$就等于$\{ X \}$, 于是集合是不重复的. 

\vspace{0.5em}
\noindent
3. \textbf{并集公理}: 对于一个集合族$M$(即元素均为集合的集合\footnote{前提是这些集合的确构成集合, 反例如所有集合无法构成一个更大的集合. 后文会针对性地讨论这种操作. }), 存在另一个集合$\bigcup M$, 其元素恰包含所有属于$M$的集合的元素. 这样的集合称作$M$的\textit{并}. 

\vspace{0.5em}
\noindent
4. \textbf{分离公理}: 任意集合$A$\footnote{同注释2, 此处必须要求$A$是集合才能进行分离操作, 否则会导致Russell悖论. }和性质$P$都对应另一个集合$B$, 其元素恰包含那些在集合$A$中而具有性质$P$的. 

这实际上是在说, $B=\{ x \in A :  P(x) \}$也是一个集合. 

结合并集公理, 马上可以定义非空\footnote{从定义不难看出, 当$M$为空集时$\bigcap M$只能是全体集合构成的类. }集合族$M$的\textit{交}为: $$\bigcap M : = \{ x \in \bigcup M :  \forall X, X \in M \Rightarrow x \in X \}.$$
特别地, 若$M= \{ A, B \}$, 则$\bigcap M$记作$A \cap B$. 

同理可以定义集合的\textit{差}和\textit{补}: $$A - B : = \{ x \in A :  x \notin B \}.$$
如果$A$是$M$的一个子集, 则定义: $$A^c : = M - A.$$

另外, 分离公理也表明, 对任意集合$X$都存在一个不包含任何元素的子集$\varnothing _X:=\{ x \in X:x \neq x \}$. 由外延公理可知对任意集合$X, Y$都有$\varnothing _X = \varnothing _Y$. 我们称该集合为\textit{空集}, 记为$\varnothing$. 

\vspace{0.5em}
\noindent
5. \textbf{幂集公理}: 对任意集合$X$, 总存在它的\textit{幂集}$\mathcal{P}(X)$, 其元素恰为$X$的所有子集. 

应用幂集公理的一个例子是Cartesian积构造之合理性. 

\vspace{0.5em}
\noindent
6. \textbf{无穷公理}: 存在包含空集和自身任何一个元素的后继的集合(这样的集合称作\textit{归纳集}). 这里, 所谓\textit{后继}是指$X^{+}:=X \sqcup \{ X \}$. 

前文已经表明, 存在唯一的空集$\varnothing$. 无穷公理允许我们构造任何归纳集的一个归纳子集: $$\{ \varnothing ,\quad \varnothing ^+ ,\quad (\varnothing ^+)^+, \quad \cdots \} .$$
同样可以验证这是唯一的. 这实际上就是可数无穷序数$\omega$. 

\vspace{0.5em}
\noindent
7. \textbf{替换公理}: 令$\mathcal{F}(x, y)$是如下命题: 对于$X$中的任意元素$x_0$, 存在唯一的$y_0$使得$\mathcal{F}(x_0, y_0)$成立. 那么满足以下条件的$y$构成一个集合: 存在$x \in X$使得$\mathcal{F}(x, y)$成立. 

我们选择用一阶逻辑来阐述替换公理而不是直接规定“映射的值域是集合”, 在于这种语言更加精确. 

替换公理的一个常见应用是: 构造集合$A$和映射$f$, 则$f(A)$必为集合, 由此得到一些矛盾. 

\vspace{0.5em}
\noindent
8. \textbf{正则公理}: 任何非空集合$X$都存在一个元素$x$, 使得$x \cap X = \varnothing$. 等价地说, $X$包含一个相对$\in $关系的极小元. 

正则公理的直接推论是, 不存在$X \in X$的情形. 

\vspace{0.5em}
\noindent
9. \textbf{选择公理}: 对于任何由互不相交且非空的集合形成的集合族$X$, 存在\textit{选择函数}$f:X \to \bigcup X$使得对任意$x \in X$都有$f(x)\in x$. 


\begin{proposition}{集合运算的运算律}
	设集合$A, B, C$, 集合族$\{ B_{\alpha} :  \alpha \in I \}$(这里$I$是指标集). 
	\begin{itemize}
		\item 交、并满足交换律, 即$$A \cap B = B \cap A,  \qquad A \cup B = B \cup A.$$
		\item 交、并满足结合律, 即
	$$A \cap B \cap C = (A \cap B) \cap C = A \cap (B \cap C), $$
	$$A \cup B \cup C = (A \cup B) \cup C = A \cup (B \cup C).$$
		\item 交对并、并对交满足分配律, 即
	$$A \cap \ssb{\bigcup_{\alpha \in I} B_\alpha} = \bigcup_{\alpha \in I} \ssb{A \cap B_{\alpha}}, $$
	$$A \cup \ssb{\bigcap_{\alpha \in I} B_\alpha} = \bigcap_{\alpha \in I} \ssb{A \cup B_{\alpha}}.$$
		\item de Morgan定律: 
	$$\ssb{\bigcup_{\alpha \in I}B_{\alpha} }^c = \bigcap_{\alpha \in I} B_{\alpha}^c, \qquad \ssb{\bigcap_{\alpha \in I}B_{\alpha} }^c = \bigcup_{\alpha \in I} B_{\alpha}^c.$$
	\end{itemize}
\end{proposition}
\begin{proof}
	略. 
\end{proof}

最后对所谓\textit{类}的概念作出说明: 在ZFC系统中, 凡是非集合的对象都称之为类, 因而其只能作为一个指代而不具有任何特殊性质. 一个例子是所有集合构成的类$\mathbf{V}$. 利用分离公理, 可以证明这的确无法构成集合: 

\begin{proof}
	下面证明对任意集合$X$均存在集合$R_X \notin X$. 令$P(x)=(x \notin x)$, 则对于集合$X$存在集合$R_X=\{ x \in X:P(x) \}$. 此时$R_X \notin R_X$, 否则$R_X \in R_X$将导致$R_X \in X$和$R_X \notin R_X$, 得到矛盾. 从而, 由$R_X \notin R_X$可得$R_X \notin X$. 
\end{proof}

\section{映射}

作为对应关系存在的映射强调的是元素间的相互作用, 而这一节我们会着重于研究映射之间的关系. 最为明显的例子是映射的复合运算, 这一运算使得$(B^{A},\circ)$构成一个群. 

\begin{definition}{映射}
	\vspace{-2em}
	\begin{itemize}
		\item 设$A$和$B$为两个集合, 若对$A$中每个元素$x$, 都存在$B$中唯一的元素$y$与之对应, 则称此对应关系为一个\textit{映射}, 记作$$f: A \to B, ~~x \mapsto y.$$
		\item $x$在$B$中的对应元素$y$称为$x$在$f$下的\textit{象}, $x$称为$y$在$f$下的\textit{原象}, 记作$$f(x) = y, ~ x \in A.$$
		\item 集合$A$称作映射$f$的\textit{定义域}; 集合$B$称为映射$f$的\textit{陪域}; $A$中所有元素在$f$下的象组成的集合称为$f$的\textit{值域}, 记作$f(A)$或$\im f$.
		\item 两个映射相等, 当且仅当它们的定义域、对应关系、陪域相同.
	\end{itemize}
\end{definition}

从集合论的视角看, 一个映射其实就是确定的三元组$(A, B, f)$, 其中$A$是定义域, $B$是陪域, $f$是对应关系.

\begin{definition}{双射}
	设映射$f: A \to B$.
	\begin{itemize}
		\item 称$f$是\textit{单射}, 若$\forall x,y \in A, f(x)=f(y) \Rightarrow x=y$. 记$f:A \hookrightarrow B$. 
		\item 称$f$是\textit{满射}, 若$\forall y \in B, \exists x \in A(f(x)=y)$. 记$f: A \twoheadrightarrow B$. 
		\item 称$f$是\textit{双射}, 若$f$既是单射又是满射. 
	\end{itemize}
\end{definition}

\begin{definition}{映射间的运算}
	设映射$f: A \to B$, $g: B \to C$. 
	\begin{itemize}
		\item 定义$f,g$的\textit{复合映射}$$gf: A \to C, x \mapsto g(f(x)).$$
    注意复合运算有先后顺序. 另外, 为了强调复合运算, $gf$也可记作$g \circ f$.
    	\item 称$f$是$A$上的一个\textit{恒等映射}, 如果对任意$x \in A$有$f(x)=x$. 此时记$f$为$\id _A$. 
    	\item 称$f$是\textit{可逆的}, 如果存在映射$f^{-1}: B \to A$满足$$ff^{-1}=\id _B, \quad f^{-1}f=\id _A.$$
	特别地, 称$f^{-1}$为$f$的\textit{逆映射}. 
	\end{itemize}
\end{definition}
\begin{remark}
	另一种记号是所谓\textit{拉回}和\textit{推出}, 分别记作$f^*g:=g \circ f$和$g_*f:=g \circ f$. 
\end{remark}

容易验证恒等映射与逆映射的唯一性. 由此, 映射$\id _{\bigcdot}$和$\bigcdot ^{-1}$就是良定义的. 

不难得到, 复合运算满足结合律, 分配律但不满足交换律. 这就说明$(B^{A},\circ)$是一个群. 

为了更加方便地描述映射的复合以及映射之间何时相等, 可以作如下的\textit{交换图}: 

\begin{figure}[h!]
	\centering
	\begin{tikzcd}
A \arrow[r, "f"] \arrow[rr, "g\circ f", bend left] & B \arrow[r, "g"] \arrow[rr, "h \circ g", bend right] & C \arrow[r, "h"] & D
\end{tikzcd}
	\caption{复合运算的结合律, 即$(f \circ g) \circ h = f \circ (g \circ h )$}
\end{figure}

下面的命题从可逆性的角度考虑单射和满射. 我们可以发现, 单射与满射似乎只是方向不同的同类性质而已. 这一点稍后会得到验证. 

\begin{proposition}{}
	设映射$f: A \to B$. $f$为单射, 当且仅当存在映射$g$使得$gf=\id$. $f$为满射, 当且仅当存在映射$g$使得$fg=\id$. 从而$f$可逆当且仅当它是双射.
\end{proposition}

接下来我们尝试用第三种方法理解双射: 

\begin{definition}{单态射, 满态射}
	设映射$f:A \to B$. 
	\begin{itemize}
		\item 称$f$为\textit{单态射}, 若对任意集合$C$和任意映射$g,h \in C$都有$fg=fh \Leftrightarrow g=h$, 即$f$满足左消去律. 
		\item 同理, 称$f$为\textit{满态射}, 若$f$满足右消去律. 
	\end{itemize}
\end{definition}

\begin{proposition}{} % chapter0 14
	设映射$f:A \to B$, 则$f$是单射当且仅当$f$是单态射, $f$是满射当且仅当$f$是满态射. 
\end{proposition}

\section{二元关系}

幂集公理允许我们构造两个集合的Cartesian积.

\begin{definition}{Cartesian积}
	设集合$A$和$B$, 定义它们的\textit{Cartesian积}如下: $$A \times B : = \{ (a, b): a \in A, b \in B \}.$$
\end{definition}
\begin{remark}
	特别地, 记$A^2: =A \times A$, 以及$A^n : = A^{n-1} \times A~(n \geq 2)$.
\end{remark}

\begin{definition}{二元关系}
	设非空集合$S$, 则称$S^2$的一个子集$\mathcal{R}$为$S$上的一个\textit{二元关系}(binary relation).若$(a, b) \in \mathcal{R}$, 则称$a, b$有$\mathcal{R}$关系, 记作$a\mathcal{R}b$.
\end{definition}

例如, 对于集合族$M$, 定义在$M$上的关系$$\Delta : = \{ (X, Y) \in M^2 :  \forall x, (x \in X) \Leftrightarrow (x \in Y) \}, $$
那么集合$A, B$相等就可以表述为$A \Delta B$.

一类在数学中很重要的关系就是等价关系, 它为我们阐明了数学对象的相似性和一致的本质. 

\begin{definition}{等价关系}
	设集合$S$及定义在$S$上的关系$\mathcal{R}$, 如果对任意$a, b, c \in S$都有: 
	\begin{enumerate}
		\item 自反性: $a\mathcal{R} a$; 
		\item 对称性: $a\mathcal{R} b \Rightarrow b\mathcal{R} a$; 
		\item 传递性: $a\mathcal{R} b \wedge b\mathcal{R} c \Rightarrow a\mathcal{R} c$.
	\end{enumerate}
	则称$\mathcal{R}$是$S$上的一个\textit{等价关系}(equivalence relation), 通常记作$\sim$.
\end{definition}

把所有等价的元素放在一起, 就形成了\textit{等价类}(equivalence class). 具体地, 定义$a$在$\mathcal{R}$下的等价类$$[a]_{\mathcal{R}} : = \{ x \in S: x\mathcal{R}a \}, $$其中$\mathcal{R}$是$S$上的一个等价关系.

例如, 数论中模$n$的同余关系就是一类等价关系, 而模$n$的同余类就是等价类.

等价类内元素都具有同等地位, 都能代表整个等价类, 否则它们也不会被称作是等价的.

\begin{proposition}{等价类相等等价于代表元素等价}
	设$\mathcal{R}$是$S$上的等价关系, 对于$a, b \in S$有$[a]_{\mathcal{R}} = [b]_{\mathcal{R}} \Leftrightarrow a\mathcal{R} b$. 
\end{proposition}
\begin{proof}
	必要性显然. 充分性: 任取$c \in [a]_{\mathcal{R}}$, 由传递性知$c \mathcal{R} b$, 所以$c \in [b]_{\mathcal{R}}$, 从而$[a]_{\mathcal{R}} \subseteq [b]_{\mathcal{R}}$.同理有$[b]_{\mathcal{R}} \subseteq [a]_{\mathcal{R}}$, 所以$[a]_{\mathcal{R}} = [b]_{\mathcal{R}}$.
\end{proof}

还是以模$n$的同余类为例. 我们发现, 任何一个整数都会出现且仅会出现在一个同余类里, 换句话说, 所有的同余类构成类对整数集合的划分. 

一般地, 所有的等价类都可以构成对特定集合的划分. 

\begin{definition}{集合的划分}
	对于给定集合$S$, 集合族$X=\{ S_{\alpha} :  \alpha \in I \}$. 称$X$是$A$的一个\textit{划分}(partition), 如果
	\begin{center}
		1) $S = \bigcup_{\alpha \in I} S_{\alpha}$; \qquad 2) $\forall \alpha \neq \beta , ~S_{\alpha} \cap S_{\beta}$.
	\end{center}
\end{definition}

\begin{proposition}{}
	设$\mathcal{R}$是$S$上的一个等价关系, 则集合族$\{ [a]_{\mathcal{R}}: a \in S \}$构成了$S$的一个划分. 特别地, 称该集合为\textit{$S$模$\mathcal{R}$的商集}, 记作$S / \mathcal{R}$. 
\end{proposition}
\begin{proof}
	首先我们证明, 所有$[a]_{\mathcal{R}}$的并集恰等于$S$. 注意到对任意$a \in S$, $a \in [a]_{\mathcal{R}} \wedge [a]_{\mathcal{R}} \subseteq S$. 所以$S \subseteq \bigcup_{a \in S} [a]_{\mathcal{R}} \subseteq S$, 从而$S = \bigcup_{a \in S} [a]_{\mathcal{R}}$. 
	
	接着证明这些集合都是不交并. 对于$[a]_{\mathcal{R}} \neq [b]_{\mathcal{R}}$, 假设存在$c \in [a]_{\mathcal{R}} \cap [b]_{\mathcal{R}}$, 那么$c \in [a]_{\mathcal{R}} \wedge c \in [b]_{\mathcal{R}}$, 由等价关系的传递性, $a\mathcal{R}b$, 与假设矛盾. 于是该集合族中任意两个元素交集为空.
\end{proof}

借助商集, 我们可以证明一个有趣的命题: 

\begin{proposition}{映射的典范分解}
	设集合$A,B$. 则任一映射$f:A \to B$均可被写成满射$\varphi :A \to C$与单射$\psi :C \to B$的复合. 
\end{proposition}

\begin{figure}[h!]
	\centering
\begin{tikzcd}
A \arrow[r, "\varphi", two heads] \arrow[rr, "f"', bend right] & A/\sim \arrow[r, "\psi", hook] & B
\end{tikzcd}
	\caption{映射的典范分解}
\end{figure}

\begin{proof}
	考虑等价关系$\sim := \{ (x_1,x_2) \in A^2:f(x_1)=f(x_2) \}$, 取$C = A / \sim$. 构造$\varphi :A \to C,x \mapsto [x]_{\sim}, \psi : C \to B,[x]_{\sim} \mapsto f(x)$. 显然$\varphi$是满射, $\psi$是单射, 且$f=\psi \circ \varphi$. 
\end{proof}

\section{序数}

\subsection{全序集与序数}

紧接着上一节的内容, 我们可以定义序关系. 此处$<$和$\leq$的区别是自然定义的. 

\begin{definition}{偏序关系}
	设集合$S$及定义在$S$上的关系$\mathcal{R}$, 如果对任意$a, b, c \in S$都有: 
	\begin{enumerate}
		\item 自反性: $a\mathcal{R} a$; 
		\item 反对称性: $a\mathcal{R} b \wedge b\mathcal{R} a \Rightarrow a=b$; 
		\item 传递性: $a\mathcal{R} b \wedge b\mathcal{R} c \Rightarrow a\mathcal{R} c$.
	\end{enumerate}
	则称$\mathcal{R}$是$S$上的一个\textit{偏序关系}, 记作$\leq$.
\end{definition}
\begin{remark}
	仅满足自反性与传递性的序结构称作\textit{预序关系}. 下一章会见到一个预序关系的例子. 
\end{remark}
\begin{remark}
	若$(S,\leq)$满足$a \leq b \vee b \leq a$, 则称$S$为\textit{全序集}(线序集, 链). 比较符合直觉(但不严谨)的看法是: 每个集合上的序结构均可视作是一系列全序子集“粘合”的结果(这种粘合包括形成线状, 环状等等). 于是研究全序集的性质就是研究序结构最为基础而方便的途径. 
\end{remark}

我们来思考如何在不同的序结构$(S_1,\leq _1),(S_2,\leq _2)$之间建立映射. 实际上这一操作的思想会在多处有所体现, 例如向量空间之间的线性映射, 拓扑空间之间的连续映射等. 

这一映射当然要给出集合$S_1,S_2$元素间的关系, 因此构造映射$\varphi :S_1 \to S_2$. 接下来, $\varphi$应当沟通$\leq _1$和$\leq _2$, 故我们定义$\varphi$是\textit{保序的}当且仅当对任意$x,y \in S_1$都有$x \leq _1 y \Rightarrow f(x) \leq _2 f(y)$. 例如, 取数列$\{ a_n \}$的子列$\{ a_{k_n} \}$实际上就构造了保序映射$k_{\bigcdot}$. 

单向的映射无法建立一一对应, 因此还要考虑$\varphi ^{-1}$. 对$\varphi ^{-1}$重复上述操作, 我们称$\varphi$是$(S_1,\leq _1),(S_2,\leq _2)$间的\textit{同构}, 若$\varphi ,\varphi ^{-1}$均为保序映射(当然, 这个条件可以弱化为$\varphi$保序). 一个例子就是Riemann积分的分割点集$\pi$, 若存在同构$\varphi$, 则极限过程$\| \pi \| \to 0$和$\| \varphi(\pi) \| \to 0$是等价的. 

下面的定义虽然没有明显动机, 但后面我们会看到这一类序结构的良好性质. 

\begin{definition}{良序集}
	称全序集$P$是\textit{良序的}, 若每个$P$的非空子集均有极小元. 
\end{definition}

序结构间的同构自然可以构成等价关系, 因而就有了对应的等价类\footnote{这不一定是集合. }(称作\textit{序型}). 根据良序定理, 每个集合均可被赋予良序, 因而我们先来研究良序序型. 

下面的想法是自然的: 所有良序序型能否排序? 这种想法来源于对最初几个良序序型的枚举, 即$0,1,2,\cdots$(具体构造可借助$\varnothing , \varnothing ^{+}, (\varnothing ^+)^+$). 另一个想法是, 在序型超出自然数集大小(即可数无穷序数$\omega$)时, 需要在原有序型基础上增加何种长度的良序集才能得到一个新的序型(进而不致被视作与原序型同构). 

然而, 在解决问题之前, 正如前文所述, 我们需要优化序型的定义, 否则在ZFC系统中考虑一个类(同构类)的类(全体序型构成的类)是风险重重的. von Neumann的解决思路是在每个同构类中挑出一个标准的良序集: 

\begin{definition}{序数}
	称集合$\alpha$是\textit{序数}, 若$\alpha$是传递的, 即其任一元素均为其子集, 且$\alpha$对于$\in$构成良序集. 
\end{definition}

此种定义方式显然是针对后继集$X^+$设计的, 因为$\alpha$是序数蕴含$\alpha ^+$是序数. 方便起见, 后文均用$\alpha +1$表示$\alpha ^+$, 用$<$表示$\in$, 记所有序数构成类$\mathbf{On}$. 

下方的命题可借助自然数集来理解. 证明仅是简单的推演, 故略去. 

\begin{proposition}{}
	\vspace{-2em}
	\begin{itemize}
		\item 设序数$\alpha$, 则任意$\beta \in \alpha$均为序数, 进而$\alpha = \{ \beta \in \mathbf{On} : \beta < \alpha \}$. 
		\item 对于序数$\alpha ,\beta$, 若$\beta \subsetneq \alpha $则$\beta \in \alpha$. 
		\item 非空的序数集合配上$<$是良序集. 
	\end{itemize}
\end{proposition}

现在逐一解决先前的两个问题. 首先, 我们(不加证明地\footnote{证明可参考\cite{set_theory_Hao}的定理4.1.6. 读者亦可结合下一节内容用归纳法给出证明. })给出下方的定理: 

\begin{theorem}{良序集基本定理}
	对于良序集$(P,\leq )$, 称形如$P_{<a}:=\{ x \in P:x<a \}$的集合配上继承自$P$的序结构为$P$的一个\textit{前段}. 于是, 对于良序集$(P_1,\leq _1),(P_2,\leq _2)$, 下列三种情况有且仅有一种成立: 
	\begin{center}
		1) $P_1$与$P_2$同构; \qquad 2) $P_1$与$P_2$的一个前段同构; \qquad 3) $P_2$与$P_1$的一个前段同构. 
	\end{center}
\end{theorem}

自然数的三歧性就是该定理的直接推论. 

第二个问题就涉及到怎样构造更大(以及最大)的序数. 实际上我们有: 

\begin{proposition}{}
	\vspace{-2em}
	\begin{itemize}
		\item 对任意非空序数集合$X$, $\bigcap X$是序数, $\bigcap X = \inf X$, 且$\inf X \in X$. 进而, $\alpha +1 = \inf \{ \beta \in \mathbf{On} : \beta > \alpha \}$. 
		\item 对任意序数集合$X$, $\bigcup X$是序数, $\bigcup X = \sup X$. 
	\end{itemize}
\end{proposition}

由此, $\mathbf{On}$不是集合, 否则$\sup \mathbf{On}$是一个序数, 从而$\sup \mathbf{On} + 1$是序数, 易得矛盾. 

根据该命题, $\alpha +1$就是大于$\alpha$的最小序数. 我们称$\alpha$为\textit{后继序数}, 若存在序数$\beta$使得$\beta +1 =\alpha$. 若$\alpha$不是后继序数, 则称其为\textit{极限序数}. 不难证明此时$\alpha = \sup \{ \beta \in \mathbf{On} :\beta < \alpha \}$. 

容易验证, 将自然数集视作序数$\omega$后, $\omega$就是最小的非零极限序数. 

\subsection{归纳法与选择公理}

这一节的中心内容就是如下(互相等价的)三个命题: 选择公理, 良序定理, Zorn引理. 我们将用归纳构造验证后两个命题, 并给出序数类似于自然数的一些性质. 

\begin{theorem}{超穷归纳法}
	设性质$P(x)$, 若对所有序数$\alpha$均有$$\forall \beta < \alpha , P(\beta) ~ \Rightarrow ~ P(\alpha),$$
	则$P(\alpha)$对所有序数$\alpha$均成立. 
\end{theorem}
\begin{remark}
	若对后继序数和极限序数分别讨论, 则条件可等价写作: (1) $P(0)$成立; (2) 对所有后继序数$\alpha$, $P(\alpha )\Rightarrow P(\alpha +1)$; (3) 对所有非零极限序数, $\forall \beta < \alpha , P(\beta) ~ \Rightarrow ~ P(\alpha)$. 
\end{remark}
\begin{proof}
	假设存在$\gamma$使得$P(\gamma)$不成立, 考虑$\alpha = \inf \{ \beta \leq \gamma : P(\beta)~\textit{不成立} \}$, 则任意比$\alpha$小的序数均成立$P$, 从而$P(\alpha)$成立, 矛盾. 
\end{proof}

接下来验证归纳构造这一操作的合理性. 

根据前文的说法, 函数并不必要建立在集合基础上, 因此形如$\mathbf{G}:\mathbf{V} \to \mathbf{V}$的函数是可被定义的. 在下方的定理中, 一个$\theta$-序列是指定义域为序数$\theta$的函数. 

\begin{corollary}{超穷递归原理}
	设函数$\mathbf{G}:\mathbf{V} \to \mathbf{V}$, 则存在唯一的$\theta$-序列$a$使得当$\alpha < \theta$时总有$a_{\alpha} = \mathbf{G}(a|_{\alpha})$. 从而, 存在唯一的序列$a:\mathbf{On} \to \mathbf{V}$使得对任意$\alpha$成立$a_{\alpha} = \mathbf{G}(a|_{\alpha})$. 
\end{corollary}
\begin{remark}
	由于$\alpha = \{ \beta \in \mathbf{On}:\beta < \alpha \}$, 故$\mathbf{G}(a|_{\alpha})$实际在说将$\mathbf{G}$应用到所有比$\alpha$小的序数上. 
\end{remark}
\begin{remark}
	这一条件蕴含了$a_0=\mathbf{G}(\varnothing) = \mathbf{G}(0)$. 
\end{remark}
\begin{proof}
	进行归纳证明. $\theta =0$时显然. 当$\theta >0$时, 假设对任意$\theta ' < \theta$命题均成立. 
	
	存在性: 基本的想法是将每个$\theta '$所对应的$a[\theta ']$粘在一起使得$a|_{\theta '} = a[\theta ']$. 唯一的问题在于这些$a[\theta ']$重叠的部分应当一致, 而这由归纳假设中的唯一性可得. 
	
	唯一性: 若$a,a'$均合题, 由归纳假设$a|_{\theta}=a'|_{\theta}$, 从而$a_{\theta} = a'_{\theta}$. 
\end{proof}

类似于自然数, 可以归纳定义序数的运算: 


\begin{table}[h]
	\centering
	\renewcommand\arraystretch{1.4}
\begin{tabular}{rccc}
\toprule
                        & $\alpha + \beta$                       & $\alpha \cdot \beta$                         & $\alpha ^{\beta}$                            \\
\midrule
$\beta = 0$             & $0$                                    & $0$                                          & $1$                                          \\
$\beta ~\textit{是后继序数}$ & $(\alpha+(\beta -1))+1$                & $\alpha \cdot (\beta -1) + \alpha$           & $\alpha ^{\beta -1} \cdot \alpha$            \\
$\beta ~\textit{是极限序数}$ & $\sup \{ a+\theta : \theta < \beta \}$ & $\sup \{ a \cdot \theta : \theta < \beta \}$ & $\sup \{ \alpha ^{\theta}:\theta < \beta \}$ \\
\bottomrule
\end{tabular}
\end{table}

由于涉及到极限序数, 序数的加法和乘法满足结合律, 但一般不满足交换律. 例如$n+\omega = \sup \{ n+m:m<\omega \}=\omega \neq \omega +n$. 另外不难验证, 如果正确地定义了良序集的加法和乘法, 则序数的加/乘法即相当于将其视作良序集做加/乘法. 有关序数算术的进一步内容, 仍请参考\cite{set_theory_Hao}的4.4小节. 


\begin{theorem}{良序定理}
	任一集合均可赋予良序. 
\end{theorem}
\begin{proof}
	考虑集合$S$上的选择函数$f$. 对每个序数$\alpha$, 当$\{ a_{\beta}:\beta < \alpha \} \neq S$时(即还未取尽时), 递归定义$a_{\alpha} := f(S \setjianfa \{ a_{\beta}:\beta < \alpha \})$. 取最小的$\theta$使得$a_{\theta}$无定义(若这样的$\theta$不存在, 则$a:\mathbf{On} \to S$, 然而由替换公理$a^{-1}(a(\mathbf{On})) = \mathbf{On}$是集合, 矛盾), 易得$a$是$S$到$\theta$的同构. 
\end{proof}

下方的命题验证了序数确是良序集等价类的代表元. 

\begin{proposition}{Mirimanoff-von Neumann}
	对任意良序集$P$, 存在唯一的序数$\alpha$与之同构. 
\end{proposition}
\begin{proof}
	唯一性: 这由序数的全序性立得. 
	
	存在性: 只需将良序定理证明中的选择函数$f$换做最小值函数$\min$即可. 
\end{proof}

由于良序集与唯一的序数等价, 我们有另一个版本的超穷递归原理: 

\begin{corollary}{超穷递归原理}
	设函数$\mathbf{G}:\mathbf{V} \to \mathbf{V}$, 良序集$P$, 则存在唯一的序列$a:P \to \mathbf{V}$使得对任意$x \in P$成立$a_{x} = \mathbf{G}(a|_{x})$. 
\end{corollary}

最后介绍Zorn引理. 该定理的一个应用是证明任意(有限或无限维)向量空间都存在一组基. 

\begin{theorem}{Zorn引理}
	设非空偏序集$P$, 且$P$中每个链均有上界, 则$P$存在极大元. 
\end{theorem}
\begin{proof}
	
\end{proof}



\section{基数}

高中数学中, 我们学过有限集合的元素个数. 从直观上看, 似乎无限集合不会存在元素个数这一说法, 但我们又熟知实数远比整数多, 那么这种相对的元素个数比较是怎样建立的? 

来考虑这样一个问题: 给定两个有限集合$A, B$, 如何比较它们的元素个数. 最一般的想法应该是在它们之间构造一个映射$f: A \to B$, 如果$f$是双射则$A, B$元素个数相等, 如果是单射则$A$的元素个数不多于$B$的元素个数, 如果是满射则$B$的元素个数不多于$A$的元素个数(这些用反证法容易说明). 

相对应地, 既然我们只需要考虑无限集合之间的相对“元素个数”多少, 而不需要得到一个绝对数值, 就可以仿照上方的方法定义一个无限集合的“相对元素个数”. 非常直观地, 我们也将其称为“势”, 这是否让你想起电势? 在接下来的内容中, 你将看到集合的“势”的参考位置一般取用自然数集合. 

\begin{definition}{等势集合}
	对于集合$A, B$, 若存在单射$f: A \to B$, 则称$A$的势小于等于$B$. 特别地, 若单射$f$同时也是一个满射, 即$f$是双射, 则称$A, B$\textit{等势}(equipollent). 
\end{definition}

很自然地, 我们可以证明集合的等势关系是一个等价关系. 为了证明势的小于等于是一个全序关系, 需要下方的定理: 

\begin{theorem}{Schröder–Bernstein} \label{thm:sb}
	给定集合$A, B$.若在$A, B$间存在两个单射$f: A \to B$与$g: B \to A$, 则在它们之间也存在一个双射$h: A \to B$.
\end{theorem}
\begin{proof}
	\underline{\textbf{证法一}}(不依赖选择公理的构造性证明)~~不妨考虑$A,B$非空. 由于$g$是$B \to g(B)$的双射, 我们可以用$g(B)$替换$B$, 即不妨设$f(A) \subseteq B \subseteq A$. 令$A_0=A, B_0=B$, 递归地定义$A_{n+1} = f(A_n), B_{n+1}=f(B_n)$. 于是得到$A_0 \supseteq B_0 \supseteq \cdots \supseteq A_n \supseteq B_n \supseteq \cdots$. 直接给出$h$的构造: $$h(x) = \begin{cases}
		f(x) & \exists n \in \Z _{+}, x \in A_n-B_n \\ x & \textit{否则}
	\end{cases}. $$
	
	下面验证$h$是双射: 若$h(x)=h(y)$而$x \neq y$, 只能$x \in A_N-B_N$, $y \notin A_n-B_n, \forall n$. 但是$y=h(y)=h(x)=f(x) \in A_{N+1}, \notin B_{N_1}$, 即$y \in A_{N+1}-B_{N+1}$, 矛盾. 这说明$h$是单射. 另一方面, 任取$y \in B$, 若$y \notin f(A)$, 由$B_0 \supseteq A_1$可知不存在$n \geq 1$使得$f(y) \in A_n$, 从而$h(y)=y$. 这说明$h$是满射. 
\end{proof}

由上方的定理, 容易得到势的小于等于关系满足反对称性. 该关系的完全性是选择公理的推论(这里略去). 再加上传递性(例如, $A, B$之间存在单射$f$, $B, C$之间存在单射$g$, 则$g|_{f(A)} \circ f$是$A, C$间的单射), 马上得到该关系是一个全序关系. 

从而, 我们可以利用等价类的思想刻画一个无限集合的相对元素个数.

\begin{definition}{集合的基数}
	\vspace{-2em}
	\begin{itemize}
		\item 设集合的等势关系$\mathcal{R}$.对于集合$X$, 称$[X]_{\mathcal{R}}$为其\textit{基数}(cardinal)或势, 记作$|X|$.
		\item 定义$|X| = |Y|$, 如果$X$与$Y$等势.
		\item 定义$|X| \leq |Y|$, 如果$X$与$Y$的某个子集等势.
	\end{itemize}
\end{definition}

容易证明集合基数的小于等于关系也是一个全序关系. 

现在对用等价类定义的基数做一些说明: 这种定义方式其实不够好, 因为如果我们要考虑所有基数构成的“集合”, 实际上是在考虑一个集合族, 而集合族不一定是集合. 更好的方法是取等价类中的某个代表元素(一般取的是最小序数). 利用取代表元素的定义方法, 我们可以引入定理\ref{thm:sb}的第二种证明: 

\begin{proof}
	\underline{\textbf{证法二}}(承认选择公理的证明, 了解即可)~~先不加证明地给出一个引理(良序定理): 任何集合$S$上均存在一个序结构$\prec$, 使得$(S,\prec)$是一个良序结构, 即对任意$S$的子集都存在关于$\prec$的极小元. 等价地, 存在唯一的极小序数$|S|$使得$S,|S|$之间存在双射. 在下方的证明中, 我们实际上将基数的反对称性处理成了序数的反对称性(不加证明地承认). 
	
	回到原题, 不妨考虑$A,B$非空. 则存在唯一的极小序数$|A|$和双射$\varphi :A \to |A|$. 类似地定义$|B|$和$\psi :B \to |B|$. 由于$\psi \circ f:X \to |Y|$是单射, 将其视作陪域等于值域的映射是就是双射. 由替换公理, 其值域$\rge (\psi \circ f)$亦是集合, 故可良序化, 即存在唯一极小序数$|\rge (\psi \circ f)|$和双射$\alpha :\rge (\psi \circ f) \to |\rge (\psi \circ f)|$. 于是$$\alpha \circ \psi \circ f:X \to |\rge \psi \circ f| \leq |Y|$$
	是双射, 而由$|X|$的极小性可知$|X| \leq |\rge \psi \circ f| \leq |Y|$. 同理可得$|Y| \leq |X|$. 于是$|X|=|Y|$. 
\end{proof}



关于无限集合, Cantor曾证明: (这里$|X|<|Y|$承自然的严格偏序定义)

\begin{theorem}{}
	设集合$X$, 则$|X|< |\mathcal{P}(X)|$.
\end{theorem}
\begin{proof}
	若$X$是空集, 则显然成立. 从而, 只考虑$X$非空的情况. 
	
	由于$\mathcal{P}(X)$涵盖所有$X$的一元子集, 故显然有$|X| \leq |\mathcal{P}(X)|$. 假设有$|X| = | \mathcal{P}(X)|$, 那么存在双射$f: X \to X$. 
	
	根据$f$, 取$B=\{ x \in X: x \notin f(x) \}$, 显然$B \in \mathcal{P}(A)$, 从而存在$x$使得$f(x)=B$. 此时, 若$x \in B$, 则由$B$的定义知$x \notin B$, 矛盾; 同理, 若$x \notin B$, 则可得$x \in B$, 也矛盾. 
\end{proof}


